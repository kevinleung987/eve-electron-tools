<app-header [title]="'VNI Companion'">
  <div class="row">
    <h5 class="mx-auto">Work In Progress.</h5>
  </div>
</app-header>
<div class="container">
  <div class="row">
    <div class="col-10"> {{logsPath}} </div>
    <div class="col-2">
      <button type="button"
              class="btn btn-raised btn-primary mx-auto"
              (click)="selectLogsFolder()">Select Folder</button>
    </div>
  </div>
  <div class="row">
    <div class="col-2">
      <button type="button"
              class="btn btn-raised btn-info mx-auto"
              [class.btn-info]="gameLogWatcher == null"
              [class.btn-warning]="gameLogWatcher!=null"
              (click)="toggleGameLogsListener()">{{gameLogWatcher == null ? 'Start Listening' : 'Stop Listening'}}</button>
    </div>
    <div class="col-2">
      <button type="button"
              class="btn btn-raised btn-info mx-auto"
              [class.btn-info]="chatLogWatcher == null"
              [class.btn-warning]="chatLogWatcher!=null"
              (click)="toggleChatLogsListener()">{{chatLogWatcher == null ? 'Watch Intel' : 'Stop Watching Intel'}}</button>
    </div>
  </div>
  <div class="row">
    <div class="col-12"
         *ngIf="characters.length > 0">
      <h5>Total ISK: {{totalIsk | number}} ISK</h5>
    </div>
    <div class="col-3"
         *ngFor="let character of characters">
      <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-4">
              <img style="height: 64px; width: 64px;"
                   src="{{character['id'] | image:'character'}}">
            </div>
            <div class="col-8">
              <p>{{character.name}}</p>
              <p *ngIf="config.debug">{{character.fileName}}</p>
            </div>
          </div>
          <div class="row">Revenue so far: {{character.isk | number}} ISK</div>
          <div class="row">Revenue per hour: {{(character.isk / character.time) * 1440 | number}} ISK</div>
          <div class="row">Time since last active: {{character.time - character.lastActive}}</div>
        </div>
      </div>
    </div>
  </div>
</div>